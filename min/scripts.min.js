!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.CountUp=t()}(this,function(e,t,n){return function(e,t,n,r,o,i){var a=this;if(a.version=function(){return"1.9.3"},a.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))*1024/1023+t},formattingFn:function(e){var t,n,r,o,i,s,l=e<0;if(e=Math.abs(e).toFixed(a.decimals),n=(t=(e+="").split("."))[0],r=1<t.length?a.options.decimal+t[1]:"",a.options.useGrouping){for(o="",i=0,s=n.length;i<s;++i)0!==i&&i%3==0&&(o=a.options.separator+o),o=n[s-i-1]+o;n=o}return a.options.numerals.length&&(n=n.replace(/[0-9]/g,function(e){return a.options.numerals[+e]}),r=r.replace(/[0-9]/g,function(e){return a.options.numerals[+e]})),(l?"-":"")+a.options.prefix+n+r+a.options.suffix},prefix:"",suffix:"",numerals:[]},i&&"object"==typeof i)for(var s in a.options)i.hasOwnProperty(s)&&null!==i[s]&&(a.options[s]=i[s]);""===a.options.separator?a.options.useGrouping=!1:a.options.separator=""+a.options.separator;for(var l=0,c=["webkit","moz","ms","o"],d=0;d<c.length&&!window.requestAnimationFrame;++d)window.requestAnimationFrame=window[c[d]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[d]+"CancelAnimationFrame"]||window[c[d]+"CancelRequestAnimationFrame"];function u(e){return"number"==typeof e&&!isNaN(e)}window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-l)),o=window.setTimeout(function(){e(n+r)},r);return l=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),a.initialize=function(){return!!a.initialized||(a.error="",a.d="string"==typeof e?document.getElementById(e):e,a.d?(a.startVal=Number(t),a.endVal=Number(n),u(a.startVal)&&u(a.endVal)?(a.decimals=Math.max(0,r||0),a.dec=Math.pow(10,a.decimals),a.duration=1e3*Number(o)||2e3,a.countDown=a.startVal>a.endVal,a.frameVal=a.startVal,a.initialized=!0):(a.error="[CountUp] startVal ("+t+") or endVal ("+n+") is not a number",!1)):!(a.error="[CountUp] target is null or undefined"))},a.printValue=function(e){var t=a.options.formattingFn(e);"INPUT"===a.d.tagName?this.d.value=t:"text"===a.d.tagName||"tspan"===a.d.tagName?this.d.textContent=t:this.d.innerHTML=t},a.count=function(e){a.startTime||(a.startTime=e);var t=(a.timestamp=e)-a.startTime;a.remaining=a.duration-t,a.options.useEasing?a.countDown?a.frameVal=a.startVal-a.options.easingFn(t,0,a.startVal-a.endVal,a.duration):a.frameVal=a.options.easingFn(t,a.startVal,a.endVal-a.startVal,a.duration):a.countDown?a.frameVal=a.startVal-(a.startVal-a.endVal)*(t/a.duration):a.frameVal=a.startVal+(a.endVal-a.startVal)*(t/a.duration),a.countDown?a.frameVal=a.frameVal<a.endVal?a.endVal:a.frameVal:a.frameVal=a.frameVal>a.endVal?a.endVal:a.frameVal,a.frameVal=Math.round(a.frameVal*a.dec)/a.dec,a.printValue(a.frameVal),t<a.duration?a.rAF=requestAnimationFrame(a.count):a.callback&&a.callback()},a.start=function(e){a.initialize()&&(a.callback=e,a.rAF=requestAnimationFrame(a.count))},a.pauseResume=function(){a.paused?(a.paused=!1,delete a.startTime,a.duration=a.remaining,a.startVal=a.frameVal,requestAnimationFrame(a.count)):(a.paused=!0,cancelAnimationFrame(a.rAF))},a.reset=function(){a.paused=!1,delete a.startTime,a.initialized=!1,a.initialize()&&(cancelAnimationFrame(a.rAF),a.printValue(a.startVal))},a.update=function(e){a.initialize()&&(u(e=Number(e))?(a.error="",e!==a.frameVal&&(cancelAnimationFrame(a.rAF),a.paused=!1,delete a.startTime,a.startVal=a.frameVal,a.endVal=e,a.countDown=a.startVal>a.endVal,a.rAF=requestAnimationFrame(a.count))):a.error="[CountUp] update() - new endVal is not a number: "+e)},a.initialize()&&a.printValue(a.startVal)}}),function(e,t){var n,r;"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,n=e.Cookies,(r=e.Cookies=t()).noConflict=function(){return e.Cookies=n,r})}(this,function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var t={read:function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};return function n(r,o){function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),n=r.write(n,t);var a="";for(var s in i)i[s]&&(a+="; "+s,!0!==i[s]&&(a+="="+i[s].split(";")[0]));return document.cookie=t+"="+n+a}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},i=0;i<n.length;i++){var a=n[i].split("="),s=a.slice(1).join("=");'"'===s[0]&&(s=s.slice(1,-1));try{var l=t.read(a[0]);if(o[l]=r.read(s,l),e===l)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){i(t,"",e({},n,{expires:-1}))},withAttributes:function(t){return n(this.converter,e({},this.attributes,t))},withConverter:function(t){return n(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(r)}})}(t,{path:"/"})}),function(e,t){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e.Mustache={},t(e.Mustache))}(this,function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(e){return"function"==typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var a=RegExp.prototype.test;var s=/\S/;function l(e){return!function(e,t){return a.call(e,t)}(s,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var d=/\s*/,u=/\s+/,m=/\s*=/,p=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function g(e){this.string=e,this.tail=e,this.pos=0}function h(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.cache={}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},g.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},h.prototype.push=function(e){return new h(e,this)},h.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var o,a,s=this,l=!1;s;){if(e.indexOf(".")>0)for(t=s.view,o=e.split("."),a=0;null!=t&&a<o.length;)a===o.length-1&&(l=i(t,o[a])),t=t[o[a++]];else t=s.view[e],l=i(s.view,e);if(l)break;s=s.parent}n[e]=t}return r(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(t,r){var i=this.cache,a=i[t];return null==a&&(a=i[t]=function(t,r){if(!t)return[];var i,a,s,c=[],h=[],v=[],y=!1,w=!1;function b(){if(y&&!w)for(;v.length;)delete h[v.pop()];else v=[];y=!1,w=!1}function _(e){if("string"==typeof e&&(e=e.split(u,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(o(e[0])+"\\s*"),a=new RegExp("\\s*"+o(e[1])),s=new RegExp("\\s*"+o("}"+e[1]))}_(r||e.tags);for(var L,S,A,E,q,x,k=new g(t);!k.eos();){if(L=k.pos,A=k.scanUntil(i))for(var C=0,T=A.length;C<T;++C)l(E=A.charAt(C))?v.push(h.length):w=!0,h.push(["text",E,L,L+1]),L+=1,"\n"===E&&b();if(!k.scan(i))break;if(y=!0,S=k.scan(f)||"name",k.scan(d),"="===S?(A=k.scanUntil(m),k.scan(m),k.scanUntil(a)):"{"===S?(A=k.scanUntil(s),k.scan(p),k.scanUntil(a),S="&"):A=k.scanUntil(a),!k.scan(a))throw new Error("Unclosed tag at "+k.pos);if(q=[S,A,L,k.pos],h.push(q),"#"===S||"^"===S)c.push(q);else if("/"===S){if(!(x=c.pop()))throw new Error('Unopened section "'+A+'" at '+L);if(x[1]!==A)throw new Error('Unclosed section "'+x[1]+'" at '+L)}else"name"===S||"{"===S||"&"===S?w=!0:"="===S&&_(A)}if(x=c.pop())throw new Error('Unclosed section "'+x[1]+'" at '+k.pos);return function(e){for(var t,n=[],r=n,o=[],i=0,a=e.length;i<a;++i)switch((t=e[i])[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":o.pop()[5]=t[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(h))}(t,r)),a},v.prototype.render=function(e,t,n){var r=this.parse(e),o=t instanceof h?t:new h(t);return this.renderTokens(r,o,n,e)},v.prototype.renderTokens=function(e,t,n,r){for(var o,i,a,s="",l=0,c=e.length;l<c;++l)a=void 0,"#"===(i=(o=e[l])[0])?a=this.renderSection(o,t,n,r):"^"===i?a=this.renderInverted(o,t,n,r):">"===i?a=this.renderPartial(o,t,n,r):"&"===i?a=this.unescapedValue(o,t):"name"===i?a=this.escapedValue(o,t):"text"===i&&(a=this.rawValue(o)),void 0!==a&&(s+=a);return s},v.prototype.renderSection=function(e,t,o,i){var a=this,s="",l=t.lookup(e[1]);if(l){if(n(l))for(var c=0,d=l.length;c<d;++c)s+=this.renderTokens(e[4],t.push(l[c]),o,i);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],t.push(l),o,i);else if(r(l)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(t.view,i.slice(e[3],e[5]),function(e){return a.render(e,t,o)}))&&(s+=l)}else s+=this.renderTokens(e[4],t,o,i);return s}},v.prototype.renderInverted=function(e,t,r,o){var i=t.lookup(e[1]);if(!i||n(i)&&0===i.length)return this.renderTokens(e[4],t,r,o)},v.prototype.renderPartial=function(e,t,n){if(n){var o=r(n)?n(e[1]):n[e[1]];return null!=o?this.renderTokens(this.parse(o),t,n,o):void 0}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},v.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["<%","%>"];var y=new v;return e.clearCache=function(){return y.clearCache()},e.parse=function(e,t){return y.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return y.render(e,t,r)},e.to_html=function(t,n,o,i){var a=e.render(t,n,o);if(!r(i))return a;i(a)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return c[e]})},e.Scanner=g,e.Context=h,e.Writer=v,e}),function(e,t){"use strict";var n={};e.PubSub=n;var r=e.define;!function(e){var t={},n=-1;function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function o(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function i(e,t,n){e(t,n)}function a(e,n,r,a){var s,l=t[n],c=a?i:o;if(t.hasOwnProperty(n))for(s in l)l.hasOwnProperty(s)&&c(l[s],e,r)}function s(e,n,o,i){var s=function(e,t,n){return function(){var r=String(e),o=r.lastIndexOf(".");for(a(e,e,t,n);-1!==o;)o=(r=r.substr(0,o)).lastIndexOf("."),a(e,r,t,n)}}(e="symbol"==typeof e?e.toString():e,n,i);return!!function(e){for(var n=String(e),o=Boolean(t.hasOwnProperty(n)&&r(t[n])),i=n.lastIndexOf(".");!o&&-1!==i;)i=(n=n.substr(0,i)).lastIndexOf("."),o=Boolean(t.hasOwnProperty(n)&&r(t[n]));return o}(e)&&(!0===o?s():setTimeout(s,0),!0)}e.publish=function(t,n){return s(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return s(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,t.hasOwnProperty(e)||(t[e]={});var o="uid_"+String(++n);return t[e][o]=r,o},e.subscribeOnce=function(t,n){var r=e.subscribe(t,function(){e.unsubscribe(r),n.apply(this,arguments)});return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.unsubscribe=function(n){var r,o,i,a="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),s=!a&&"string"==typeof n,l="function"==typeof n,c=!1;if(!a){for(r in t)if(t.hasOwnProperty(r)){if(o=t[r],s&&o[n]){delete o[n],c=n;break}if(l)for(i in o)o.hasOwnProperty(i)&&o[i]===n&&(delete o[i],c=!0)}return c}e.clearSubscriptions(n)}}(n),"function"==typeof r&&r.amd?r(function(){return n}):"object"==typeof exports&&(void 0!==module&&module.exports&&(exports=module.exports=n),exports.PubSub=n,module.exports=exports=n)}("object"==typeof window&&window||this),
/*! UTF-8

© kovrigin
Все права разрешены
красивый дизайн должен иметь красивый код®

https://github.com/htmlpluscss/

*/
(()=>{let e=null,t=window.innerWidth;window.addEventListener("resize",()=>{window.requestAnimationFrame(()=>{e||(e=setTimeout(()=>{e=null,t!==window.innerWidth&&(t=window.innerWidth,PubSub.publish("windowWidthResize"))},100))})}),window.addEventListener("load",()=>{PubSub.publish("pageLoad"),Cookies.set("fastLoadScript",!0),document.documentElement.style.setProperty("--transitionDefault",".3s")}),window.cssAnimation=(e=>{let t,n,r=document.createElement("cssanimation");switch(e){case"animation":t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};break;case"transition":t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"}}for(n in t)if(void 0!==r.style[n])return t[n]}),window.isInViewport=(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=window.innerHeight}),window.sepNumber=(e=>(e=(e=e.toString()).replace(/\s+/g,"")).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")),window.strToNumber=(e=>parseInt(e.replace(/\s+/g,""),10)),window.declension=((e,t)=>{let n,r=e%100;return n=r>4&&r<21?t[2]:1==(r%=10)?t[0]:r>1&&r<5?t[1]:t[2]})})(),(e=>{e.length&&Array.from(e,e=>{e.addEventListener("click",t=>{t.target.closest(".visible-toggle-password__btn")&&(Array.from(e.querySelectorAll(".visible-toggle-password__input"),e=>e.type="password"===e.type?"text":"password"),Array.from(e.querySelectorAll(".visible-toggle-password__btn svg"),e=>e.classList.toggle("hide")))})})})(document.querySelectorAll(".visible-toggle-password")),(e=>{if(e){const t=document.querySelector(".cart__result-sticke");e.addEventListener("change",n=>{e.classList.add("is-loading");const r=e.querySelectorAll(".cart__item").length,o=new FormData(e);0===r&&o.append("clearBasket",!0),fetch(e.getAttribute("action"),{method:"POST",body:o}).then(e=>e.text()).then(n=>{console.log(n),e.classList.remove("is-loading"),0===r?e.closest(".cart").innerHTML=n:t.innerHTML=n,[...document.querySelectorAll(".js-set-cart-counter")].forEach(e=>e.setAttribute("data-counter",r))})}),e.addEventListener("submit",t=>{t.preventDefault(),e.dispatchEvent(new Event("change"))})}})(document.querySelector(".cart__list")),(e=>{const t=document.querySelector(".cart__list");e.length&&Array.from(e,e=>{const n=e.closest(".cart__item");e.querySelector(".btn").addEventListener("click",()=>{n.style.height=n.clientHeight+"px",n.addEventListener(window.cssAnimation("transition"),e=>{"height"===e.propertyName&&0===n.clientHeight&&(n.remove(),setTimeout(()=>t.dispatchEvent(new Event("change")),100))}),setTimeout(()=>n.classList.add("is-remove"))})})})(document.querySelectorAll(".cart__item-remove")),(e=>{if(!e)return;const t=e.querySelectorAll(".cart-quantity");Array.from(t,t=>{let n=null;const r=t.querySelector(".cart-quantity__btn--up"),o=t.querySelector(".cart-quantity__btn--down"),i=t.querySelector(".cart-quantity__count");r.addEventListener("click",()=>{n=parseInt(i.value),i.value=isNaN(n)?1:n+1,e.dispatchEvent(new Event("change"))}),o.addEventListener("click",()=>{n=parseInt(i.value),(isNaN(n)||n<2)&&(n=2),i.value=n-1,e.dispatchEvent(new Event("change"))}),i.addEventListener("blur",()=>{e.dispatchEvent(new Event("change"))}),i.addEventListener("focus",()=>{setTimeout(()=>i.setSelectionRange(0,9),100)}),i.addEventListener("keyup",()=>{const t=i.value.replace(/[\D]/g,"");isNaN(t)&&(t=1),i.value=t,e.dispatchEvent(new Event("change"))})})})(document.querySelector(".cart__list")),(e=>{e.length&&Array.from(e,e=>{const t=e.querySelector(".menu-category__toggle"),n=e.querySelector(".menu-category__wrap"),r=e.querySelector(".menu-category__level-2");t&&t.addEventListener("click",()=>{n.style.height=r.clientHeight+"px",setTimeout(()=>{e.classList.toggle("is-open"),n.style.height=r.clientHeight+"px"},100)})})})(document.querySelectorAll(".menu-category__section")),(e=>{e.length&&Array.from(e,e=>{const t=e.querySelector(".category-cards__toggle");if(t){const n=t.querySelector(".btn"),r=e.querySelector(".category-cards__wrap"),o=e.querySelector(".category-cards__list");n.addEventListener("click",()=>{r.style.height=o.clientHeight+"px",setTimeout(()=>{e.classList.toggle("is-open"),r.style.height=o.clientHeight+"px"},100)})}})})(document.querySelectorAll(".category-cards")),(e=>{e.length&&Array.from(e,e=>{e.querySelector(".content-block__toggle").addEventListener("click",()=>e.classList.toggle("is-open"))})})(document.querySelectorAll(".content-block")),(e=>{if(e){const t=document.querySelector(".catalog__result"),n=e.querySelector(".filter__count"),r=(e.querySelectorAll(".filter__fieldset"),document.createElement("div"));r.className="catalog__loading",e.addEventListener("change",o=>{const i=o.target;if("checkbox"===i.type){const t=i.getAttribute("name"),n=e.querySelector('.filter__checkbox-all[name="'+t+'"]');if(n){const r=Array.from(e.querySelectorAll('input[name="'+t+'"]')).filter(e=>e!==n);i===n?Array.from(r,e=>e.checked=n.checked):n.checked=r.every(e=>!0===e.checked)}}console.log(e,"change");const a=new FormData(e);if(null===t.offsetParent)a.append("count","on"),fetch(e.getAttribute("action"),{method:"POST",body:a}).then(e=>e.text()).then(e=>{n.textContent="("+e+")"});else{e.elements["price-min"].value===e.elements["price-min"].parentNode.getAttribute("data-min")&&a.delete("price-min"),e.elements["price-max"].value===e.elements["price-max"].parentNode.getAttribute("data-max")&&a.delete("price-max"),t.insertAdjacentElement("afterbegin",r);const n=new URLSearchParams(a).toString();history.pushState(void 0,"","?"+n),fetch(e.getAttribute("action"),{method:"POST",body:a}).then(e=>e.text()).then(e=>{r.remove(),t.innerHTML=e})}}),e.addEventListener("submit",t=>{document.body.classList.remove("filter-open"),t.preventDefault(),e.dispatchEvent(new Event("change"))}),e.addEventListener("default",()=>{Array.from(e.querySelectorAll(".checkbox__input:checked:not(:disabled)"),e=>e.checked=!1),Array.from(e.querySelectorAll(".nouislider"),e=>e.dispatchEvent(new Event("reset"))),e.dispatchEvent(new Event("change"))}),t.addEventListener("click",t=>{const n=t.target.closest(".filter-tags-trigger__tag");if(n)if(n.classList.contains("filter-tags-trigger__tag--reset"))e.dispatchEvent(new Event("default"));else{const t=n.getAttribute("data-name"),r=n.getAttribute("data-value");console.log(t,r),"nouislider"===t?e.querySelector(".nouislider--"+r).dispatchEvent(new Event("reset")):e.querySelector(`[name="${t}"][value="${r}"]`).checked=!1,e.dispatchEvent(new Event("change"))}})}})(document.querySelector(".filter")),(e=>{e.length&&Array.from(e,e=>{const t=document.querySelector("#"+e.getAttribute("data-id")),n=e.querySelectorAll(".sort__item"),r=e.elements.direction;Array.from(n,o=>{o.addEventListener("click",()=>{o.classList.contains("is-active")?o.classList.contains("is-revert")?(o.classList.remove("is-revert"),t.elements.direction.value=r.value):(o.classList.add("is-revert"),t.elements.direction.value=r.getAttribute("data-alt")):(o.insertAdjacentElement("beforeend",e.querySelector(".sort__item svg")),Array.from(n,e=>{e.classList.toggle("is-active",o===e)})),t.elements.sort.value=o.getAttribute("data-value"),t.dispatchEvent(new Event("change"))})})})})(document.querySelectorAll(".filter-sort-trigger")),(e=>{if(e){const t=document.querySelector("#"+e.getAttribute("data-id"));e.addEventListener("change",n=>{t.elements.direction.value=n.target.getAttribute("data-direction"),t.elements.sort.value=e.elements.sort.value,t.dispatchEvent(new Event("change")),e.classList.remove("is-open")}),window.addEventListener("click",t=>{t.target.closest(".catalog__sort-btn-mobile--sort")?e.classList.toggle("is-open"):null===t.target.closest(".filter-sort-trigger-mobile")&&e.classList.remove("is-open"),t.target.closest(".catalog__sort-btn-mobile--filter")&&document.body.classList.add("filter-open"),t.target.closest(".filter__btn-close")&&document.body.classList.remove("filter-open")})}})(document.querySelector(".filter-sort-trigger-mobile")),(e=>{if(!e)return;const t=document.querySelector("#modal-cart-template");document.addEventListener("submit",n=>{const r=n.target.closest(".form-buy");if(r){const o=r.querySelector(".form-buy__submit");o.disabled=!0,n.preventDefault(),r.classList.add("is-loading"),fetch(r.getAttribute("action"),{method:"POST",body:new FormData(r)}).then(e=>e.json()).then(n=>{console.log(n),r.classList.remove("is-loading"),o.disabled=!1,e.innerHTML=Mustache.render(t.innerHTML,n);const i=new CustomEvent("modalShow",{detail:{selector:"cart"}});window.modal.dispatchEvent(i),[...document.querySelectorAll(".js-set-cart-counter")].forEach(e=>e.setAttribute("data-counter",n.totalCart))})}}),e.addEventListener("change",()=>{e.classList.add("is-loading"),fetch(e.getAttribute("action"),{method:"POST",body:new FormData(e)}).then(e=>e.json()).then(t=>{console.log(t),e.classList.remove("is-loading"),t.id==e.elements.id.value?(e.querySelector(".modal-cart__count").value=t.count,e.querySelector(".modal-cart__total-text").textContent=t.totalText):(e.elements.id.value=t.id,e.querySelector(".modal-cart__img").href=t.link,e.querySelector(".modal-cart__img img").src=t.img,e.querySelector(".modal-cart__name").href=t.link,e.querySelector(".modal-cart__name").textContent=t.name,e.querySelector(".modal-cart__intro").textContent=t.description,t.priceOld&&e.querySelector(".price__old")?(e.querySelector(".price__sale").textContent=t.price,e.querySelector(".price__old").textContent=t.priceOld):e.querySelector(".price").textContent=t.price,e.querySelector(".modal-cart__count").value=t.count,e.querySelector(".modal-cart__total-text").textContent=t.totalText)})}),e.addEventListener("submit",t=>{t.preventDefault(),e.dispatchEvent(new Event("change"))}),e.addEventListener("keyup",t=>{console.log(t.key),t.target.classList.contains("quantity__input")&&(t.target.value=t.target.value.replace(/[\D]/g,""),e.dispatchEvent(new Event("change")))}),e.addEventListener("click",t=>{const n=e.querySelector(".quantity__input");t.target===n&&n.setSelectionRange(0,9),t.target.closest(".quantity__btn--up")&&(n.value=parseInt(n.value)+1,e.dispatchEvent(new Event("change"))),t.target.closest(".quantity__btn--down")&&(n.value=parseInt(n.value)<=1?1:parseInt(n.value)-1,e.dispatchEvent(new Event("change")))})})(document.querySelector(".modal-cart")),(e=>{if(!e)return;const t=e.querySelector(".form-city__list"),n=t.querySelectorAll(".form-city__btn"),r=e.querySelector(".form-city__input-filter");let o=n.length;const i=()=>{fetch(e.getAttribute("action"),{method:"POST",body:new FormData(e)}).then(e=>e.json()).then(e=>{console.log(e),e.setCity&&(Array.from(document.querySelectorAll(".js-change-city"),t=>t.textContent=e.setCity),modal.dispatchEvent(new Event("hide")))})};r.addEventListener("input",e=>{const i=r.value.toLowerCase();o=0,i.length>0?Array.from(n,e=>{const t=e.getAttribute("data-name").toLowerCase();e.classList.toggle("hide",-1===t.indexOf(i)),-1!==t.indexOf(i)&&o++}):(Array.from(n,e=>e.classList.remove("hide")),o=n.length),t.classList.toggle("is-empty",0===o)}),Array.from(n,e=>{e.querySelector(".form-city__radio").addEventListener("change",()=>i())}),e.addEventListener("submit",e=>{e.preventDefault(),1===o&&Array.from(n,e=>e.querySelector(".form-city__radio").checked=!1===e.classList.contains("hide")),r.value.length>0&&i()})})(document.querySelector(".form-city")),(e=>{e.length&&Array.from(e,e=>{const t=e.querySelector(".form__submit"),n=e.querySelector(".form__ok"),r=e.querySelector(".form__error");e.addEventListener("submit",o=>{o.preventDefault(),e.classList.add("is-loading"),t.disabled=!0,fetch(e.getAttribute("action"),{method:"POST",body:new FormData(e)}).then(e=>e.json()).then(o=>{if(console.log(o),e.classList.remove("is-loading"),t.disabled=!1,"ok"===o.type&&modal.ok(o.title,o.text),n&&("form-ok"===o.type?(n.innerHTML=o.text,n.classList.remove("hide"),window.isInViewport(n)||n.scrollIntoView({behavior:"smooth"}),"forgot"!==o.url&&setTimeout(()=>location.href=o.url,4e3)):n.classList.add("hide")),r&&("form-error"===o.type?(r.innerHTML=o.text,r.classList.remove("hide"),window.isInViewport(r)||r.scrollIntoView({behavior:"smooth"})):r.classList.add("hide")),o.redirect){const e=o.redirectDelay?1e3*o.redirectDelay:0;setTimeout(()=>location.assign(o.redirect),e)}o.reset&&e.reset(),o.refresh&&location.reload()})})})})(document.querySelectorAll(".form")),(e=>{if(e){const t=e.querySelectorAll(".swiper-gallery-preview__big-item");e.addEventListener("click",n=>{if("VIDEO"===n.target.tagName&&window.innerWidth<768&&(n.target.parentNode.classList.remove("is-video"),n.target.paused?n.target.play():n.target.pause()),n.target.closest(".swiper-gallery-preview__link")&&n.preventDefault(),null===n.target.closest(".swiper-container-style")){const r=n.target.closest(".swiper-gallery-preview__item");Array.from(e.querySelectorAll(".swiper-gallery-preview__item"),(e,n)=>{e.classList.toggle("is-current",r===e),t[n].classList.toggle("is-hide",r!==e),t[n].querySelector("video")&&t[n].querySelector("video").pause()})}})}})(document.querySelector(".swiper-gallery-preview")),(e=>{if(e){document.documentElement.style.setProperty("--heightHeader",e.clientHeight+"px"),document.documentElement.style.setProperty("--heightHeaderFixed",document.documentElement.style.getPropertyValue("--heightHeader")),window.innerWidth>=1250&&document.body.classList.add("header-fixed");const t=e.querySelector(".header__bottom"),n=t.querySelector(".header__flex"),r=document.querySelector(".product-scroll"),o=document.querySelector(".product__form-buy"),i=document.querySelector(".footer");r&&e.insertAdjacentElement("afterend",r),window.addEventListener("scroll",()=>{window.requestAnimationFrame(()=>{if(window.innerWidth<1250)window.pageYOffset>document.documentElement.clientHeight?document.body.classList.add("header-fixed"):(document.body.classList.remove("header-fixed"),document.documentElement.style.setProperty("--heightHeaderFixed",document.documentElement.style.getPropertyValue("--heightHeader"))),document.documentElement.style.setProperty("--heightHeader",e.clientHeight+"px"),r&&(window.innerWidth<768?r.classList.toggle("is-show",i.getBoundingClientRect().top>document.documentElement.clientHeight):r.classList.toggle("is-show",i.getBoundingClientRect().top>document.documentElement.clientHeight&&window.pageYOffset>0));else{const i=n.clientHeight;let a=i-window.pageYOffset,s=(i/2-window.pageYOffset)/(i/2);a<0&&(a=0),s<0?(s=0,n.classList.add("is-off")):n.classList.remove("is-off"),t.style.height=a+"px",t.style.opacity=s,document.documentElement.style.setProperty("--heightHeader",e.clientHeight+"px"),r&&r.classList.toggle("is-show",!1===window.isInViewport(o))}})})}})(document.querySelector(".header")),(e=>{if(e.length){const t=document.querySelector("#modal-form-address-remove");Array.from(e,e=>{e.addEventListener("click",()=>{t.elements.id.value=e.getAttribute("data-id"),t.querySelector(".modal-login__text").textContent=e.getAttribute("data-text")})})}})(document.querySelectorAll('[data-modal="account-address-remove"]')),(e=>{if(e.length){const t=document.querySelector("#modal-form-card-remove");Array.from(e,e=>{e.addEventListener("click",()=>{t.elements.id.value=e.getAttribute("data-id"),t.querySelector(".modal-login__text").textContent=e.getAttribute("data-text")})})}})(document.querySelectorAll('[data-modal="account-card-remove"]')),(e=>{e&&e.addEventListener("change",e.submit)})(document.querySelector(".lk-filter")),(e=>{e.length&&Array.from(e,e=>{const t=e.querySelector(".lk-order__foot .btn");t&&t.addEventListener("click",()=>e.classList.toggle("is-short"))})})(document.querySelectorAll(".lk-order")),(e=>{if(!e.length)return;const t=document.createElement("script");t.src="/local/templates/chistovgorode/js/inputmask.min.js",t.onload=(()=>{Array.from(e,e=>{let t;e.classList.contains("inputmask--phone")&&(t=new Inputmask({mask:"+7 (999) 999 99 99",showMaskOnHover:!1})),t.mask(e)})}),setTimeout(()=>document.head.appendChild(t),Cookies.get("fastLoadScript")?0:1e4)})(document.querySelectorAll(".inputmask")),(e=>{(t=>{t&&t.addEventListener("click",()=>{document.body.classList.contains("menu-show")?(document.body.classList.remove("menu-show"),window.scrollTo(0,e),setTimeout(()=>document.documentElement.classList.remove("scroll-behavior-off"))):(e=window.pageYOffset,document.body.classList.add("menu-show"),document.body.classList.remove("header-fixed"),document.documentElement.classList.add("scroll-behavior-off"),window.scrollTo(0,0))})})(document.querySelector(".btn-menu-toggle")),(t=>{t.length&&Array.from(t,t=>{t.addEventListener("click",()=>{document.body.classList.contains("menu-catalog-show")?(document.body.classList.remove("menu-catalog-show","menu-show"),window.scrollTo(0,e),setTimeout(()=>document.documentElement.classList.remove("scroll-behavior-off"))):(!1===document.body.classList.contains("menu-show")&&(e=window.pageYOffset),document.documentElement.classList.add("scroll-behavior-off"),document.body.classList.add("menu-catalog-show"),setTimeout(()=>window.scrollTo(0,0)))})})})(document.querySelectorAll(".btn-toggle-menu-catalog"))})(window.pageYOffset),(e=>{if(e.length){const t=document.querySelectorAll(".menu-catalog__body");Array.from(e,n=>{n.addEventListener("click",r=>{r.preventDefault(),Array.from(e,(e,r)=>{e.classList.toggle("is-current",e===n),t[r].classList.toggle("hide",e!==n)})})});const n=document.querySelector(".menu-catalog__mobile"),r=n.querySelector(".menu-catalog__mobile-body"),o=n.querySelector(".menu-catalog__mobile-head-name"),i=n.querySelector(".menu-catalog__mobile-btn-back"),a=o.textContent;let s=null,l=null,c=null,d=null,u=null;const m=()=>{s=0,i.classList.add("hide"),o.textContent=a,r.innerHTML=document.querySelector(".menu-catalog__nav").innerHTML},p=()=>{s=1,i.classList.remove("hide"),o.textContent=d.textContent;const e=document.createElement("ul");e.insertAdjacentHTML("beforeend",`<li class="menu-catalog__mobile-item"><a href="${d.href}">${r.getAttribute("data-all-item")}</a></li>`),Array.from(t[l].querySelectorAll(".menu-catalog__level-2"),(t,n)=>{const o=t.querySelectorAll(".menu-catalog__item"),i=o[0].cloneNode(!0);i.className="menu-catalog__mobile-item",i.setAttribute("data-index",n),e.insertAdjacentElement("beforeend",i),o.length>1&&i.classList.add("is-parent"),r.innerHTML="",r.insertAdjacentElement("beforeend",e)})},f=()=>{s=2,o.textContent=u.textContent;const e=document.createElement("ul");Array.from(t[l].querySelectorAll(".menu-catalog__level-2")[c].querySelectorAll(".menu-catalog__item"),t=>{const n=t.cloneNode(!0);n.className="menu-catalog__mobile-item",e.insertAdjacentElement("beforeend",n)}),e.querySelectorAll(".menu-catalog__mobile-item a")[0].textContent=r.getAttribute("data-all-item"),r.innerHTML="",r.insertAdjacentElement("beforeend",e)};m(),n.addEventListener("click",e=>{const t=e.target.closest(".menu-catalog__nav-btn"),n=e.target.closest(".menu-catalog__mobile-item.is-parent");t&&(e.preventDefault(),d=t,Array.from(r.querySelectorAll(".menu-catalog__nav-btn"),(e,n)=>{t===e&&(l=n,p())})),n&&(e.preventDefault(),u=n,c=parseInt(n.getAttribute("data-index")),f())}),i.addEventListener("click",()=>2===s?p():m())}})(document.querySelectorAll(".menu-catalog__nav-btn")),(e=>{if(!e)return;const t=e.querySelectorAll(".modal__item"),n=(document.querySelectorAll("[data-modal]"),document.querySelector(".wrapper"));let r=null,o=window.pageYOffset;e.addEventListener("hide",()=>{document.body.classList.remove("modal-show"),n.style.top=0,window.scrollTo(0,o),r=!1,setTimeout(()=>document.documentElement.classList.remove("scroll-behavior-off"))}),e.addEventListener("keyup",t=>{"Escape"===t.key&&e.dispatchEvent(new Event("hide"))});const i=i=>{r||(o=window.pageYOffset),r=e.querySelector(".modal__item--"+i),Array.from(t,e=>e.classList.toggle("visuallyhidden",e!==r)),document.documentElement.classList.add("scroll-behavior-off"),setTimeout(()=>{n.style.top=-o+"px",document.body.classList.add("modal-show"),window.scrollTo(0,0),r.focus(),PubSub.publish("open-"+i)})};e.addEventListener("click",t=>{(t.target.classList.contains("modal")||t.target.closest(".modal__close"))&&e.dispatchEvent(new Event("hide"))}),document.addEventListener("click",e=>{let t=e.target;for(;t!==document&&null!==t;)t.hasAttribute("data-modal")&&i(t.getAttribute("data-modal")),t=t.parentNode}),e.addEventListener("modalShow",e=>i(e.detail.selector)),e.ok=((t,n)=>{e.querySelector(".modal__item--ok .modal-login__head").innerHTML=t||"",e.querySelector(".modal__item--ok .modal-login__text").innerHTML=n||"",i("ok")})})(document.querySelector(".modal")),(e=>{if(!e.length)return;const t=document.createElement("script");t.src="/local/templates/chistovgorode/js/nouislider.min.js",t.onload=(()=>void Array.from(e,e=>{const t=e.querySelector(".nouislider__track"),n=e.closest("form"),r=e.querySelector(".nouislider__min"),o=e.querySelector(".nouislider__max"),i=e.querySelector(".nouislider__min-name"),a=e.querySelector(".nouislider__max-name"),s=parseInt(e.getAttribute("data-min")),l=parseInt(e.getAttribute("data-max")),c=parseInt(e.getAttribute("data-step")),d=e.getAttribute("data-suf");noUiSlider.create(t,{start:[s,l],step:c,connect:!0,range:{min:s,max:l},format:{to:e=>parseInt(e),from:e=>parseInt(e)}}),t.noUiSlider.on("slide",e=>{d?(r.value=window.sepNumber(e[0])+" "+d,o.value=window.sepNumber(e[1])+" "+d):(r.value=parseInt(e[0]),o.value=parseInt(e[1]))}),t.noUiSlider.on("end",e=>{r.classList.toggle("is-side",s===e[0]),o.classList.toggle("is-side",l===e[1]),n.dispatchEvent(new Event("change")),i.value=e[0],a.value=e[1]}),t.noUiSlider.on("update",e=>{r.classList.toggle("is-side",s===e[0]),o.classList.toggle("is-side",l===e[1]),i.value=e[0],a.value=e[1]}),n.addEventListener("reset",()=>{t.noUiSlider.set([s,l])}),e.addEventListener("reset",()=>{t.noUiSlider.set([s,l])}),n.addEventListener("input",e=>{e.target!==o&&e.target!==r||(t.noUiSlider.set([parseInt(window.strToNumber(r.value)),parseInt(window.strToNumber(o.value))]),i.value=values[0],a.value=values[1])}),r.addEventListener("focus",()=>{r.value=t.noUiSlider.get()[0],r.setSelectionRange(0,99)}),o.addEventListener("focus",()=>{o.value=t.noUiSlider.get()[1],o.setSelectionRange(0,99)}),r.addEventListener("blur",()=>{d&&(r.value=window.sepNumber(t.noUiSlider.get()[0])+" "+d)}),o.addEventListener("blur",()=>{d&&(o.value=window.sepNumber(t.noUiSlider.get()[1])+" "+d)}),r.addEventListener("keyup",e=>{"Enter"===e.key&&r.blur()}),o.addEventListener("keyup",e=>{"Enter"===e.key&&o.blur()}),s===parseInt(window.strToNumber(r.value))&&l===parseInt(window.strToNumber(o.value))||t.noUiSlider.set([parseInt(window.strToNumber(r.value)),parseInt(window.strToNumber(o.value))])})),setTimeout(()=>document.head.appendChild(t),Cookies.get("fastLoadScript")?0:1e4)})(document.querySelectorAll(".nouislider")),(e=>{if(e){e.addEventListener("click",()=>document.body.scrollIntoView({behavior:"smooth"}));let t=null;window.addEventListener("scroll",()=>{window.requestAnimationFrame(()=>{null===t&&(t=setTimeout(()=>{t=null,e.classList.toggle("is-hidden",window.pageYOffset<document.documentElement.clientHeight)},100))})})}})(document.querySelector(".page-up")),window.selects=(e=>{if(e.querySelector(".select__list"))return;const t=document.createElement("div");t.className="select__value",t.innerHTML='<span class="select__value-inner"></span>',t.insertAdjacentHTML("beforeend",'<svg width="24" height="24" viewBox="0 0 24 24"><path d="M7.2 9.2a.65.65 0 0 1 .91 0L12 13.12l3.89-3.94a.65.65 0 0 1 .92 0c.25.26.25.68 0 .94L12 15l-4.8-4.87a.67.67 0 0 1 0-.94Z"/></svg>'),e.appendChild(t);const n=e.closest("form"),r=e.querySelector("select"),o=e.querySelectorAll("option"),i=e.querySelector(".select__value-inner"),a=(e.classList.contains("select--filter"),document.createElement("div"));a.className="select__list";const s=r.querySelector('[value="'+r.value+'"]').textContent;(r.disabled||"none"===r.value||""===r.value)&&e.classList.add("select--default"),""!==r.value&&(i.textContent=e.querySelector('option[value="'+r.value+'"]').textContent),Array.from(o,t=>{const n=document.createElement("label"),o=document.createElement("span"),s=document.createElement("input");n.className="select__list-item",s.type="radio",s.name=r.name,s.value=t.value,o.textContent=t.textContent,r.value===t.value&&(s.checked=!0),s.addEventListener("change",()=>{i.textContent=t.textContent,e.classList.remove("select--open")}),n.appendChild(s),n.appendChild(o),a.appendChild(n)}),e.appendChild(a),n&&n.addEventListener("reset",()=>{e.classList.add("select--default"),i.textContent=s}),r.remove()}),window.selectsCollection=document.querySelectorAll(".select"),window.selectsCollection.length&&Array.from(window.selectsCollection,e=>window.selects(e)),window.addEventListener("click",e=>{const t=e.target.closest(".select");Array.from(window.selectsCollection,e=>{e.classList.toggle("select--open",e===t&&!1===t.classList.contains("select--open"))})}),(e=>{if(!e.length)return;Array.from(e,e=>{let t=null,n=null,r=null;const o=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),s=document.createElement("button"),l=document.createElement("button"),c=(e.parentNode.querySelector(".swiper-scrollbar"),e.querySelectorAll(".swiper-slide")),d=c.length,u=e.classList.contains("swiper-container--card-auto"),m=e.classList.contains("swiper-container--billboard"),p=e.classList.contains("swiper-container--gallery-preview");i.className="swiper-pagination",o.className="swiper-controls",a.className="swiper-navigation",l.className="swiper-button-prev button",s.className="swiper-button-next button",l.setAttribute("aria-label","Previous slide"),s.setAttribute("aria-label","Next slide"),p?(l.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24"><path d="m13 9 4.6 4.6a1 1 0 1 1-1.4 1.4l-3.9-3.9L8.4 15A.99.99 0 0 1 7 13.6L11.59 9A1 1 0 0 1 13 9Z"/></svg>',s.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24"><path d="M13 15a1 1 0 0 1-1.4 0L7 10.4A.99.99 0 0 1 8.4 9l3.9 3.9L16.2 9a.99.99 0 0 1 1.4 1.4L13 15Z"/></svg>'):(l.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24"><path d="M8.41 11.5H18a1 1 0 0 1 0 2H8.41l3.8 3.8a1 1 0 0 1-1.42 1.4l-5.5-5.5a1 1 0 0 1 0-1.4l5.5-5.5a1 1 0 0 1 1.42 1.4l-3.8 3.8Z"/></svg>',s.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24"><path d="M11.8 5.8a1 1 0 0 0 0 1.4l3.79 3.8H6a1 1 0 0 0 0 2h9.59l-3.8 3.8a1 1 0 1 0 1.42 1.4l5.5-5.5a1 1 0 0 0 .29-.67v-.06a1 1 0 0 0-.3-.68l-5.5-5.5a1 1 0 0 0-1.4 0Z"/></svg>'),a.appendChild(l),a.appendChild(s),o.appendChild(a),o.appendChild(i),r=(()=>{t&&(t.destroy(!1,!0),t=void 0),i.classList.add("hide"),a.classList.add("hide"),o.classList.add("hide"),e.closest(".swiper-container-style")&&e.closest(".swiper-container-style").classList.remove("swiper-container-style")}),m&&(o.classList.add("center"),i.classList.remove("hide"),a.classList.add("hide"),o.classList.remove("hide"),n=(()=>{n=!1,e.parentNode.classList.add("swiper-container-style"),new Swiper(e,{loop:!0,autoplay:{delay:5e3},pagination:{el:i,clickable:!0,bulletClass:"button",bulletActiveClass:"is-active"}})})),u&&(r(),n=(()=>{r(),window.innerWidth>=1250&&(a.classList.remove("hide"),o.classList.remove("hide"),e.parentNode.parentNode.appendChild(o),l.classList.add("swiper-button-disabled"),e.parentNode.parentNode.classList.add("swiper-container-style"),t=new Swiper(e,{slidesPerView:"auto",navigation:{nextEl:s,prevEl:l}}))})),p&&(n=(()=>{if(r(),o.classList.remove("hide"),window.innerWidth<768){if(1===d)return;i.classList.remove("hide"),a.classList.add("hide"),e.parentNode.classList.add("swiper-container-style"),t=new Swiper(e,{loop:!0,pagination:{el:i,clickable:!0,bulletClass:"button",bulletActiveClass:"is-active"},on:{slideChange:()=>{e.querySelectorAll("video")&&Array.from(e.querySelectorAll("video"),e=>{e.parentNode.classList.add("is-video"),e.pause()})}}})}else if(d>5){i.classList.add("hide"),a.classList.remove("hide");let n=0,r=5,d=15;e.parentNode.appendChild(o),Array.from(c,(e,t)=>{e.classList.contains("is-current")&&(n=t)}),e.parentNode.classList.add("swiper-container-style");const u=e.closest(".swiper-gallery-preview").querySelectorAll(".swiper-gallery-preview__big-item");t=new Swiper(e,{loop:!0,slideActiveClass:"is-current",direction:"vertical",slidesPerView:r,spaceBetween:d,slideToClickedSlide:!0,initialSlide:n,navigation:{nextEl:s,prevEl:l},on:{slideChange:()=>{Array.from(u,(t,n)=>{t.classList.toggle("is-hide",e.swiper.realIndex!==n),t.querySelector("video")&&t.querySelector("video").pause()})}},breakpoints:{320:{slidesPerView:3,spaceBetween:8},768:{slidesPerView:r,spaceBetween:d}}})}})),PubSub.subscribe("windowWidthResize",()=>{window.Swiper&&n&&n()}),PubSub.subscribe("swiperJsLoad",()=>{e.appendChild(o),Array.from(e.querySelectorAll('[loading="lazy"]'),e=>e.setAttribute("loading","eager")),Array.from(c,e=>e.classList.remove("hide")),n()})});const t=document.createElement("script");t.src="/local/templates/chistovgorode/js/swiper.min.js",t.onload=(()=>PubSub.publish("swiperJsLoad")),setTimeout(()=>document.head.appendChild(t),Cookies.get("fastLoadScript")?0:1e4)})(document.querySelectorAll(".swiper-container"));